[gd_scene load_steps=15 format=3 uid="uid://bp85fd3si2ufl"]

[ext_resource type="Script" path="res://script/enemy.cs" id="1_g2w4k"]
[ext_resource type="Theme" uid="uid://dn2mo1leextlr" path="res://theme/text.tres" id="2_uqxx4"]
[ext_resource type="Texture2D" uid="uid://ddhs77pwhasmg" path="res://art/ui/combatpanel.png" id="3_6qp8w"]
[ext_resource type="Texture2D" uid="uid://c6ims6tywlo4w" path="res://art/ui/progressbar/enemyhpunder.png" id="4_j7whg"]
[ext_resource type="Texture2D" uid="uid://d040w8512dyus" path="res://art/ui/progressbar/enemyhpover.png" id="5_p4mxp"]
[ext_resource type="Texture2D" uid="uid://ct80tqgxwmpm5" path="res://art/ui/progressbar/enemyhpprogress.png" id="6_ac022"]

[sub_resource type="Animation" id="Animation_yo02n"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:material:shader_parameter/white")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_elb3g"]
resource_name = "dead"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:material:shader_parameter/white")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [-0.5]
}

[sub_resource type="Animation" id="Animation_y0hlk"]
resource_name = "idle"
length = 4.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.8, 1.6, 2.4, 3.2, 4),
"transitions": PackedFloat32Array(0, 0, 0, 0, 0, 0),
"update": 0,
"values": [Vector2(0, 0), Vector2(1, 0), Vector2(2, 0), Vector2(3, 0), Vector2(2, 0), Vector2(1, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:material:shader_parameter/white")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_nu782"]
_data = {
"RESET": SubResource("Animation_yo02n"),
"dead": SubResource("Animation_elb3g"),
"idle": SubResource("Animation_y0hlk")
}

[sub_resource type="Animation" id="Animation_oivso"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(0),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:material:shader_parameter/white")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(0),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_cxqs5"]
resource_name = "hit"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(0, 0, 0, 0, 0, 0),
"update": 0,
"values": [Vector2(0, 0), Vector2(5, 0), Vector2(-5, 0), Vector2(3, 0), Vector2(-3, 0), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:material:shader_parameter/white")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(0, 0, 0),
"update": 0,
"values": [0.0, 1.0, 0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dfoji"]
_data = {
"RESET": SubResource("Animation_oivso"),
"hit": SubResource("Animation_cxqs5")
}

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_3unha"]
texture = ExtResource("3_6qp8w")
texture_margin_left = 15.0
texture_margin_top = 11.0
texture_margin_right = 15.0
texture_margin_bottom = 11.0

[node name="Enemy" type="Node2D"]
script = ExtResource("1_g2w4k")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]

[node name="IdleAnimation" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_nu782")
}
autoplay = "idle"

[node name="HitAnimation" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_dfoji")
}

[node name="EnemyPanel" type="PanelContainer" parent="."]
offset_left = -171.0
offset_top = -119.0
offset_right = -4.0
offset_bottom = -35.0
theme = ExtResource("2_uqxx4")
theme_override_styles/panel = SubResource("StyleBoxTexture_3unha")

[node name="VBoxContainer" type="VBoxContainer" parent="EnemyPanel"]
layout_mode = 2

[node name="Name" type="Label" parent="EnemyPanel/VBoxContainer"]
layout_mode = 2
text = "CULTIST"
vertical_alignment = 2

[node name="HP" type="TextureProgressBar" parent="EnemyPanel/VBoxContainer"]
layout_mode = 2
value = 100.0
nine_patch_stretch = true
stretch_margin_left = 4
stretch_margin_top = 4
stretch_margin_right = 4
stretch_margin_bottom = 4
texture_under = ExtResource("4_j7whg")
texture_over = ExtResource("5_p4mxp")
texture_progress = ExtResource("6_ac022")

[node name="HPText" type="Label" parent="EnemyPanel/VBoxContainer/HP"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -7.0
offset_right = 20.0
offset_bottom = 7.0
grow_horizontal = 2
grow_vertical = 2
text = "10/10"
horizontal_alignment = 1
vertical_alignment = 1

[node name="InfoBox" type="HBoxContainer" parent="EnemyPanel/VBoxContainer"]
layout_mode = 2

[node name="Left" type="VBoxContainer" parent="EnemyPanel/VBoxContainer/InfoBox"]
custom_minimum_size = Vector2(60, 0)
layout_mode = 2

[node name="Damage" type="Label" parent="EnemyPanel/VBoxContainer/InfoBox/Left"]
layout_mode = 2
text = "DAMAGE: 2"

[node name="AC" type="Label" parent="EnemyPanel/VBoxContainer/InfoBox/Left"]
layout_mode = 2
text = "AC: 1"

[node name="Right" type="VBoxContainer" parent="EnemyPanel/VBoxContainer/InfoBox"]
layout_mode = 2

[node name="DR" type="Label" parent="EnemyPanel/VBoxContainer/InfoBox/Right"]
layout_mode = 2
text = "DR: 0"
